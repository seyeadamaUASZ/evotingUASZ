<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Bulletin-Candidats</title>
    <script type="text/javascript" src="../static/js/jquery.min.js" th:src="@{js/jquery.min.js}"></script>
    <script type="text/javascript" src="../static/js/bootstrap.min.js" th:src="@{js/bootstrap.min.js}"></script>
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css"
          th:href="@{css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/css/font-awesome.min.css"
          th:href="@{css/font-awesome.min.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/css/style.css"
          th:href="@{css/style.css}"/>
</head>
<body>
<div class="container col-md-1 col-md-offset-1" style="margin-top: 10px">
    <img class='img-circle img-responsive center-block' src="../static/images/logo.png" th:src="@{images/logo.png}"/>
</div>
<hr>
<center><p> <a href="#" style="color:black;" class="fol"><b>E-Voting</b> <b>-UASZ</b></a></p></center>
<div class="container col-md-6 col-md-offset-3" style="margin-top: 5px">
    <div class="card">
      <div class="card-header">Candidats</div>
        <div class="card-body">
           <table class="table table-bordered table-striped">
              <thead>
              <tr style="background-color: #4cae4c">
                  <th>Nom</th><th>Profession</th><th>Departement</th><th>Photo</th><th>Option</th>
              </tr>
              </thead>
               <tbody>
               <tr th:each="candidat : ${candidats}">
                   <td th:text="${candidat.name}"></td>
                   <td th:text="${candidat.profession}"></td>
                   <td th:text="${candidat.departement.nomDep}"></td>
                   <td><img th:src="@{photoCat/(id=${candidat.idUser})}" width="50" height="50" class="img-rounded"></td>
                   <td><a th:href="@{voter/(id=${candidat.idUser})}" class="btn btn-success fa fa-thumbs-up cbtn">Voter</a></td>
               </tr>
               </tbody>
           </table>
        </div>
    </div>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLab" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Confirmer son choix</h5>
                    <img src="../static/images/logo.png" th:src="@{images/logo.png}" width="30" height="30"/>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p class="alert">
                        Etes-vous s√ªr de votre choix de vote ??
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <a href="" class="btn btn-primary" id="delRef">Confirm</a>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('.table .cbtn').on('click',function (event) {
            event.preventDefault();
            var href = $(this).attr('href');
            $('#myModal #delRef').attr('href',href);
            $('#myModal').modal();
        })
    })
</script>
</body>
</html>